<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Shopping Mall - 상품 수정</title>
    <link rel="icon" type="image/png" sizes="16x16" href="/img/elice-rabbit-favicon.png" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.9.3/css/bulma.min.css" />
    <script defer src="https://kit.fontawesome.com/9daa42bcef.js" crossorigin="anonymous"></script>
    <script src="https://sdk.amazonaws.com/js/aws-sdk-2.410.0.min.js"></script>
    <link rel="stylesheet" href="/css/item/item-add.css" />
    <script src="/js/item/item-edit.js" type="module" defer></script>
</head>
<body>
<!-- 헤더 -->
<nav class="navbar" role="navigation" aria-label="main navigation">
    <div class="container mt-3">
        <div class="navbar-brand">
            <a class="navbar-item" href="/">
                <img src="/img/elice-rabbit.png" width="30" height="30" />
                <span class="has-text-link">Shopping Mall</span>
            </a>
        </div>
        <div id="navbarBasicExample" class="navbar-menu">
            <div class="navbar-end breadcrumb my-auto" aria-label="breadcrumbs">
                <ul id="navbar">
                    <li>
                        <a href="/cart" aria-current="page">
                            <span class="icon"><i class="fas fa-cart-shopping"></i></span>
                            <span>카트</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</nav>

<!-- 상품 수정 폼 -->
<section class="section">
    <div class="container">
        <div class="block account-header">
            <h1 class="subtitle is-4">상품 수정</h1>
        </div>
        <div class="register-item-form-container">
            <form class="box register-item-form-box" id="editItemForm">
                <p class="title is-5 has-text-primary">상품 정보를 수정하세요</p>
                <div class="field">
                    <label class="label" for="titleInput">상품 이름</label>
                    <div class="control">
                        <input class="input" id="titleInput" type="text" placeholder="아이보리 티셔츠" />
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="manufacturerInput">제조사</label>
                    <div class="control">
                        <input class="input" id="manufacturerInput" type="text" placeholder="OO의류제조(주)" />
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="shortDescriptionInput">요약 설명</label>
                    <div class="control">
                        <textarea class="textarea" id="shortDescriptionInput" rows="3" placeholder="상품에 대한 1~2문장의 설명을 적어 주세요."></textarea>
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="detailDescriptionInput">상세 설명</label>
                    <div class="control">
                        <textarea class="textarea" id="detailDescriptionInput" rows="8" placeholder="상품에 대한 상세 설명을 적어 주세요."></textarea>
                    </div>
                </div>
                <div class="field is-fullwidth">
                    <label class="label" for="imageInput">상품 사진</label>
                    <div class="file has-name is-fullwidth">
                        <label class="file-label">
                            <input class="file-input" id="imageInput" type="file" name="image-file" accept=".png, .jpeg, .jpg" />
                            <span class="file-cta">
                    <span class="file-icon"><i class="fas fa-upload"></i></span>
                    <span class="file-label">사진 변경하기</span>
                  </span>
                            <span class="file-name" id="fileNameSpan">현재 사진: 상품 이미지</span>
                        </label>
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="inventoryInput">재고 수</label>
                    <div class="control">
                        <input class="input" id="inventoryInput" type="number" placeholder="10" />
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="priceInput">가격</label>
                    <div class="field">
                        <div class="control has-icons-right">
                            <input class="input" id="priceInput" type="number" placeholder="10000" />
                            <span class="icon is-small is-right"> 원 </span>
                        </div>
                    </div>
                </div>
                <div class="field">
                    <label class="label" for="searchKeywordInput">검색 키워드</label>
                    <div class="field has-addons">
                        <div class="control header-search-input is-flex-grow-1">
                            <input class="input" id="searchKeywordInput" type="text" placeholder="남자옷" />
                        </div>
                        <div class="control">
                            <button class="button is-primary" id="addKeywordButton">추가하기</button>
                        </div>
                    </div>
                </div>
                <div class="field is-grouped is-grouped-multiline mt-3" id="keywordContainer"></div>
                <div class="mt-5">
                    <button class="button is-primary is-fullwidth" id="editButton">상품 수정하기</button>
                </div>
            </form>
        </div>
    </div>
</section>

<!--<script>-->
<!--    document.addEventListener("DOMContentLoaded", async () => {-->
<!--        // 상품 ID를 기반으로 기존 데이터를 로드하여 필드에 미리 채우기-->
<!--        const itemId = "ID를 서버에서 받아옴"; // URL에서 상품 ID 가져오기 또는 서버에서 제공-->
<!--        const response = await fetch(`/api/items/${itemId}`);-->
<!--        const itemData = await response.json();-->

<!--        document.getElementById("titleInput").value = itemData.title;-->
<!--        document.getElementById("manufacturerInput").value = itemData.manufacturer;-->
<!--        document.getElementById("shortDescriptionInput").value = itemData.shortDescription;-->
<!--        document.getElementById("detailDescriptionInput").value = itemData.detailDescription;-->
<!--        document.getElementById("inventoryInput").value = itemData.inventory;-->
<!--        document.getElementById("priceInput").value = itemData.price;-->
<!--        document.getElementById("fileNameSpan").textContent = "현재 사진: " + itemData.imageKey;-->
<!--        itemData.searchKeywords.forEach(keyword => {-->
<!--            // 키워드를 필드에 추가하는 로직 작성-->
<!--        });-->
<!--    });-->
<!--</script>-->
</body>
</html>
